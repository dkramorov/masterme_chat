сделать страничку с редактирование контакта
отправлять уведомление, если собеседник печатает
отслеживать статус - онлайн/офллайн
звук на сообщение
стакать пуши


добавить VCard
добавить при регистрации автоматическое добавление пользователя на свич
+ пробросить номер
+ proximity sensor только во время звонка включать

+ push уведомления для йось
+ клава на экране звонка убираем
+ кнопку настроек убираем
+ proximity sensor

+ поправить набор номера на 8800 (пока оставляем на 89) - а оно итак пашет так
+ обработать повторную регистрацию (также восстановление пароля)
+ сделать звонок доступным только после регистрации (если авторизован)
+ обрабатывать сброс звонка
+ исправить сообщение о запросе прав на страничке телефона (йось/дроид) на запись аудио

+ ставить флаг на последнего залогиневшегося

индикация онлайна в шапке,
добавить ожидание ответа на отправку сообщений
  Send <r xmlns="urn:xmpp:sm:3"/>
  Receive <a h='7' xmlns='urn:xmpp:sm:3'/>
  если нет ответа - ставить флаг офлайн
#################################################
Обработать
https://xmpp.org/extensions/xep-0198.html
сидим в чате
# ejabberdctl stop
подждать, потом старт, потом в приложении назад в контакты и затем в чат

2021-07-28 21:36:53.627 [info] <0.555.0>@ejabberd_c2s:bind:442 (tls|<0.555.0>) Opened c2s session for 89148959223@anhel.1sprav.ru/30992061092946960104946
2021-07-28 21:37:12.152 [warning] <0.555.0>@mod_stream_mgmt:check_h_attribute:473 89148959223@anhel.1sprav.ru/30992061092946960104946 acknowledged 9 stanzas, but only 8 were sent

Example 16. Entity closes stream because peer acknowledges more stanzas than it was sent¶

<stream:error>
  <undefined-condition xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
  <handled-count-too-high xmlns='urn:xmpp:sm:3' h='10' send-count='8'/>
  <text xml:lang='en' xmlns='urn:ietf:params:xml:ns:xmpp-streams'>
    You acknowledged 10 stanzas, but I only sent you 8 so far.
  </text>
</stream:error>
</stream:stream>
#################################################
Таймаут для ожидания ответа от ejabberd
#################################################
Правильное отображение разных типов медиа
+ video
+ audio
+ file
+ photo
#################################################
файлы сохранять локально
- video
- audio
- file
+ photo
#################################################
Обработка ошибок разрешения на файлы
+ video
+ audio
+ file
+ photo
#################################################
Отправка аудио
#################################################
Пуш отправляется, когда отправляется сообщение,
однако если приложение только проснулось, то пуш уйдет,
а вот сообщение - нет, т/к еще нет подключения

#################################################11/08/21
добавление контакта в ростер по сообщению, либо
по уведомлению, лучше и так и сяк
#################################################11/08/21
+++
Уведомления серые (нет иконки)
#################################################04/08/21
+++
No such file or directory при filePath локальном
#################################################03/08/21
+++
Удаление в ростере должно вызывать удаление в базе
#################################################03/08/21
+++
Задавать сообщениям уникальный номер при записи
в бд, отправлять его в станзу, когда приедет с
сервера сообщение по этому номеру мы запишем код
для этого подходит id
#################################################02/08/21
+++
ростер выводим из базы, актуализируем по запросу
#################################################02/08/21
+++
Удаление старых токенов (серверная часть)
#################################################02/08/21
+++
когда сервер отваливается мы с чата вываливаемся
на контакты, то есть, дополнительно pushRoute
делаем (то есть, типа переавторизовываемся)
#################################################02/08/21
+++
Декодирование url с русскими буквами
в uploadFile2Server
#################################################02/08/21
+++
Упростить вход и обработать вход после регистрации
#################################################02/08/21
+++
Если написать какой-то текст и выйти с экрана,
тогда текст не будет сохранен, нужно сохранять
#################################################01/08/21
+++
Захват изображения с камеры
#################################################01/08/21
+++
сделать локальные пуши, когда приложение активно,
но не активен пользователь
#################################################01/08/21
+++
Когда любое приложение на любом устройстве открыто,
то пушь уведомление не придет, т/к типа онлайн же
и на сервере помечается, что оффлайн только через 300сек
#################################################01/08/21
+++
Отправка видео
#################################################31/07/21
+++
Отправка файла
#################################################30/07/21
+++
Переименовать в 8800 help
#################################################26/07/21
+++
Переделать авторизацию на телефон (клава)
#################################################23/07/21
+++
Экран настроек
#################################################23/07/21
+++
Переподключение сделать к ejabberd
#################################################22/07/21
+++
Тыкабельные фото
#################################################22/07/21
+++
Отправка типа медиа
#################################################21/07/21
+++
добавить разделительную линию с датой между сообщениями
--------------- 17.02.2005 ---------------
...
---------------   Сегодня  ---------------
...

#################################################21/07/21
+++
Историю сообщений получаем сначала 20 последних
если скролим выше - подгружаем по еще 20
#################################################21/07/21
+++
разделительные сообщения будут обычными блоками
в ListView, такие как дата или "начало беседы"
или другие системные сообщения
#################################################